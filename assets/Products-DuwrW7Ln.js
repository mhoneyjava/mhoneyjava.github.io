var Fe=Object.defineProperty,Oe=Object.defineProperties;var Ue=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var Me=(l,p,c)=>p in l?Fe(l,p,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[p]=c,A=(l,p)=>{for(var c in p||(p={}))qe.call(p,c)&&Me(l,c,p[c]);if(Ce)for(var c of Ce(p))De.call(p,c)&&Me(l,c,p[c]);return l},J=(l,p)=>Oe(l,Ue(p));import{a as Ke,j as t,t as ce,O as Le}from"./index-zIXJkvcI.js";import{u as Ve,b as We,r as o,L as $e}from"./react-vendor-Dw5DccgK.js";import{u as Je,g as Qe,a as Ge,b as Ye}from"./useItems-DMvVveWL.js";import{S as Ze}from"./SEO-DQY3A9Jt.js";import"./helmet-CAINHZvn.js";function Xe(l){var P,C,T,E,q,z,u,D,i,v;const p=((P=l.variants)!=null?P:[]).map(N=>N.price),c=p.length?Math.min(...p):(E=(T=(C=l.variants)==null?void 0:C[0])==null?void 0:T.price)!=null?E:0,de=p.length?Math.max(...p):(u=(z=(q=l.variants)==null?void 0:q[0])==null?void 0:z.price)!=null?u:0,Q=c,G=[l.name,...(D=l.tags)!=null?D:[]].join(" "),Y=l.type==="honey"?`/products/${l.slug}`:`/sundakawa/catalogue/${l.slug}`,Z=l.images&&l.images.length>0?l.images[0]:Ye(l),X=((i=l.variants)!=null?i:[]).map(N=>({name:N.name,price:N.price,image:N.image}));return{type:l.type,id:l.id,slug:l.slug,name:l.name,description:l.description,price:Q,minPrice:c,maxPrice:de,category:(v=l.category)!=null?v:"Uncategorized",image:Z,searchText:G.toLowerCase(),link:Y,variants:X}}function ot(){const l=Ve(),p=We(),{items:c,loading:de}=Je(),{addItem:Q}=Ke(),G="products_page_size",Y="products_page",[U,Z]=o.useState({}),[X,P]=o.useState({}),C=Object.keys(X).find(e=>X[e])||null,[T,E]=o.useState(1);o.useEffect(()=>{if(!C)return;const e=s=>{s.key==="Escape"&&P({})};document.addEventListener("keydown",e);const n=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=n}},[C]),o.useLayoutEffect(()=>{C&&E(1)},[C]);const[q,z]=o.useState({}),[u,D]=o.useState(()=>new URLSearchParams(l.search).get("q")||""),[i,v]=o.useState(()=>{const n=new URLSearchParams(l.search).get("page");if(n){const s=Number(n);if(!isNaN(s)&&s>0)return s}try{const s=sessionStorage.getItem(Y),a=Number(s);if(!isNaN(a)&&a>0)return Math.max(1,a)}catch(s){}return 1}),[N,ge]=o.useState("name-asc"),[j,ee]=o.useState("all"),[k,te]=o.useState([]),[S,se]=o.useState([]),[g,ne]=o.useState(null),[b,ae]=o.useState(null),[Pe,K]=o.useState(!1),[be,me]=o.useState([]),[fe,ue]=o.useState([]),[re,xe]=o.useState(null),[oe,he]=o.useState(null),[H,je]=o.useState(!1),[_,ve]=o.useState(!1),we=o.useRef(!0);o.useEffect(()=>{if(!we.current)return;we.current=!1;const e=new URLSearchParams(l.search),n=e.get("q")||"";D(n);const s=e.get("sort");s&&ge(s);const a=e.get("type");a&&ee(a);const r=e.get("cats");r&&te(r.split(",").filter(Boolean));const m=e.get("tags");m&&se(m.split(",").filter(Boolean));const x=e.get("min"),f=e.get("max");ne(x?Number(x):null),ae(f?Number(f):null);const h=e.get("page");h&&v(Math.max(1,Number(h)||1))},[]);const w=o.useMemo(()=>{const e=Qe(c),n=Ge(c);return[...e,...n].map(Xe)},[c]),pe=o.useMemo(()=>{let e=w;if(j!=="all"&&(e=e.filter(n=>n.type===j)),u.trim()){const n=u.toLowerCase();e=e.filter(s=>s.searchText.includes(n))}if(k.length>0&&(e=e.filter(n=>{var s;return k.includes((s=n.category)!=null?s:"Uncategorized")})),S.length>0&&(e=e.filter(n=>{var a,r;const s=c.find(m=>m.id===n.id);return(r=(a=s==null?void 0:s.tags)==null?void 0:a.some(m=>S.includes(m)))!=null?r:!1})),g!=null||b!=null){const n=g!=null?g:-1/0,s=b!=null?b:1/0;e=e.filter(a=>a.maxPrice>=n&&a.minPrice<=s)}return e=[...e].sort((n,s)=>{switch(N){case"name-asc":return n.name.localeCompare(s.name);case"name-desc":return s.name.localeCompare(n.name);case"price-asc":return n.price-s.price;case"price-desc":return s.price-n.price;default:return 0}}),e},[w,u,N,j,k,S,g,b,c]),Ie=(()=>{try{const e=sessionStorage.getItem(G),n=Number(e);return!isNaN(n)&&n>0?n:12}catch(e){return 12}})(),[M,ye]=o.useState(Ie),R=pe.length,d=Math.max(1,Math.ceil(R/M));o.useEffect(()=>{i>d&&v(d),i<1&&v(1)},[d]),o.useLayoutEffect(()=>v(1),[u,N,j,k,S,g,b]),o.useEffect(()=>{try{sessionStorage.setItem(G,String(M))}catch(e){}v(1)},[M]),o.useEffect(()=>{try{sessionStorage.setItem(Y,String(i))}catch(e){}},[i]);const Te=pe.slice((i-1)*M,i*M),Ee=o.useRef(null),ze=e=>{D(e)};o.useEffect(()=>{const e=new URLSearchParams;u.trim()&&e.set("q",u.trim()),N&&N!=="name-asc"&&e.set("sort",N),j&&j!=="all"&&e.set("type",j),k.length>0&&e.set("cats",k.join(",")),S.length>0&&e.set("tags",S.join(",")),g!=null&&e.set("min",String(g)),b!=null&&e.set("max",String(b)),i&&i>1&&e.set("page",String(i));const n=e.toString();n!==l.search.replace(/^\?/,"")&&p(`${l.pathname}${n?`?${n}`:""}`,{replace:!0})},[u,N,j,k,S,g,b,i]),o.useEffect(()=>{const e=n=>{const s=document.activeElement;s&&(s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.tagName==="SELECT")||C||(n.key==="ArrowRight"?v(a=>Math.min(d,a+1)):n.key==="ArrowLeft"&&v(a=>Math.max(1,a-1)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,C]),o.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]);const Re=w.filter(e=>e.type==="honey").length,Be=w.filter(e=>e.type==="hamper").length,le=o.useMemo(()=>{const e=new Set(w.map(n=>{var s;return(s=n.category)!=null?s:"Uncategorized"}));return Array.from(e).filter(Boolean).sort()},[w]),F=o.useMemo(()=>{const e=new Set;return c.forEach(n=>{var s;(s=n.tags)==null||s.forEach(a=>e.add(a))}),Array.from(e).filter(Boolean).sort()},[c]),ie=o.useMemo(()=>{const e=w.map(r=>{var m,x;return(x=(m=r.minPrice)!=null?m:r.price)!=null?x:0}).filter(Boolean),n=w.map(r=>{var m,x;return(x=(m=r.maxPrice)!=null?m:r.price)!=null?x:0}).filter(Boolean),s=e.length?Math.min(...e):0,a=n.length?Math.max(...n):0;return{min:s,max:a}},[w]),Ne=o.useMemo(()=>{var s,a;const e=new Map,n=w.filter(r=>(j==="all"||r.type===j)&&(!u.trim()||r.searchText.includes(u.toLowerCase()))&&(S.length===0||S.some(m=>{var f,h;const x=c.find(I=>I.id===r.id);return(h=(f=x==null?void 0:x.tags)==null?void 0:f.includes(m))!=null?h:!1}))&&(g==null||b==null||r.maxPrice>=g&&r.minPrice<=b));for(const r of n){const m=(s=r.category)!=null?s:"Uncategorized";e.set(m,((a=e.get(m))!=null?a:0)+1)}return e},[w,j,u,S,g,b,c]),ke=o.useMemo(()=>{var s;const e=new Map,n=w.filter(a=>{var r;return(j==="all"||a.type===j)&&(!u.trim()||a.searchText.includes(u.toLowerCase()))&&(k.length===0||k.includes((r=a.category)!=null?r:"Uncategorized"))&&(g==null||b==null||a.maxPrice>=g&&a.minPrice<=b)});for(const a of n){const r=c.find(m=>m.id===a.id);r&&((s=r.tags)==null||s.forEach(m=>{var x;e.set(m,((x=e.get(m))!=null?x:0)+1)}))}return e},[w,c,j,u,k,g,b]),O=l.pathname.includes("/sundakawa"),Ae=O?"Katalog Hampers Premium":"Produk Madu Murni",He=O?"Jelajahi koleksi hampers premium Sundakawa dengan sentuhan alam dan estetika rustik. Paket hadiah berisi madu murni MHoney untuk momen spesial.":"Jelajahi koleksi madu murni premium MHoney. Madu Multiflora, Kelengkeng, Royal Jelly 100% asli tanpa campuran untuk gaya hidup sehat.",_e=O?"hampers premium, paket hadiah, gift box, sundakawa, hampers madu, corporate gift, hampers lebaran":"madu murni, madu asli, madu premium, MHoney, jual madu, madu multiflora, madu kelengkeng";return t.jsxs(t.Fragment,{children:[t.jsx(Ze,{title:Ae,description:He,keywords:_e,url:O?"/sundakawa/catalogue":"/products",breadcrumbs:[{name:"Home",url:"/"},{name:O?"Sundakawa Catalogue":"Produk",url:O?"/sundakawa/catalogue":"/products"}]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[t.jsx("div",{className:"mb-3 lg:col-span-12",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:u,onChange:e=>ze(e.target.value),placeholder:"Cari madu, hampers, atau produk lainnya...",className:"w-full px-3 py-2 pl-9 rounded-lg border border-stone-300 focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all text-sm bg-white"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-stone-400",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]})}),t.jsx("aside",{className:"hidden lg:block lg:col-span-3",children:t.jsxs("div",{className:"sticky top-24",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h2",{className:"text-base font-semibold",children:"Kategori"}),t.jsx("button",{onClick:()=>te([]),className:"text-sm text-amber-600 hover:underline",children:"Clear"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[le.slice(0,H?void 0:10).map(e=>{var s;const n=k.includes(e);return t.jsxs("button",{type:"button","aria-pressed":n,onClick:()=>te(a=>a.includes(e)?a.filter(r=>r!==e):[...a,e]),className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm transition-all ${n?"bg-amber-600 text-white shadow-sm":"bg-white border border-stone-200 text-stone-700 hover:bg-stone-50"}`,children:[t.jsx("span",{children:e}),t.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 text-xs rounded-full ${n?"bg-white/20 text-white":"bg-stone-100 text-stone-500"}`,children:(s=Ne.get(e))!=null?s:0})]},e)}),le.length>10&&t.jsx("button",{type:"button",onClick:()=>je(!H),className:"text-xs text-amber-600 hover:underline px-2 py-1.5",children:H?"Show less":"See more"})]}),F.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"Tags"}),t.jsx("button",{onClick:()=>se([]),className:"text-xs text-amber-600 hover:underline",children:"Clear"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[F.slice(0,_?void 0:10).map(e=>{var s;const n=S.includes(e);return t.jsxs("button",{type:"button","aria-pressed":n,onClick:()=>se(a=>a.includes(e)?a.filter(r=>r!==e):[...a,e]),className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs transition-all ${n?"bg-amber-600 text-white shadow-sm":"bg-white border border-stone-200 text-stone-700 hover:bg-stone-50"}`,children:[t.jsx("span",{children:e}),t.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 text-xs rounded-full ${n?"bg-white/20 text-white":"bg-stone-100 text-stone-500"}`,children:(s=ke.get(e))!=null?s:0})]},e)}),F.length>10&&t.jsx("button",{type:"button",onClick:()=>ve(!_),className:"text-xs text-amber-600 hover:underline px-2 py-1.5",children:_?"Show less":"See more"})]})]}),t.jsxs("div",{className:"mt-3 p-3 bg-stone-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"Harga"}),t.jsx("button",{type:"button",onClick:()=>{ne(null),ae(null)},className:"text-xs text-amber-600",children:"Reset"})]}),t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:g!=null?g:"",onChange:e=>ne(e.target.value===""?null:Number(e.target.value)),placeholder:`Min Rp ${ie.min.toLocaleString("id-ID")}`}),t.jsx("span",{className:"text-sm",children:"—"}),t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:b!=null?b:"",onChange:e=>ae(e.target.value===""?null:Number(e.target.value)),placeholder:`Max Rp ${ie.max.toLocaleString("id-ID")}`})]})})]}),t.jsx("div",{className:"mt-2",children:t.jsx($e,{to:"/sundakawa/custom","aria-label":"Buat Custom Order",className:"w-full inline-flex items-center justify-center rounded-lg bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 text-sm font-medium transition-colors",children:"Buat Custom Order"})})]})}),t.jsxs("main",{className:"lg:col-span-9",children:[t.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{ee("all"),ce("filter_products",{filter_type:"all"})},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${j==="all"?"bg-amber-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["Semua (",w.length,")"]}),t.jsxs("button",{onClick:()=>{ee("honey"),ce("filter_products",{filter_type:"honey"})},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${j==="honey"?"bg-amber-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["MHoney (",Re,")"]}),t.jsxs("button",{onClick:()=>{ee("hamper"),ce("filter_products",{filter_type:"hamper"})},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${j==="hamper"?"bg-green-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["Sundakawa (",Be,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-stone-700",children:"Urutkan:"}),t.jsxs("select",{id:"sort",value:N,onChange:e=>{const n=e.target.value;ge(n),ce("sort_products",{sort_by:n})},className:"px-2 py-1.5 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"name-asc",children:"Nama (A-Z)"}),t.jsx("option",{value:"price-asc",children:"Harga (Rendah-Tinggi)"}),t.jsx("option",{value:"price-desc",children:"Harga (Tinggi-Rendah)"})]}),t.jsx("div",{className:"ml-2 flex items-center gap-2",children:t.jsx("div",{className:"ml-2 lg:hidden",children:t.jsxs("button",{type:"button",className:"inline-flex items-center gap-1.5 px-2 py-1.5 rounded-lg bg-stone-100 text-sm text-stone-700 hover:bg-stone-200",onClick:()=>{me(k),ue(S),xe(g),he(b),K(!0)},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v2a1 1 0 0 1-.293.707L15 13.414V21a1 1 0 0 1-1.447.894L9 19.333V13.414L3.293 6.707A1 1 0 0 1 3 6V4z"})}),t.jsx("span",{children:"Filter"})]})})})]})]}),de?t.jsxs("div",{className:"text-center py-10",children:[t.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-300 border-t-amber-600 rounded-full animate-spin"}),t.jsx("p",{className:"mt-4 text-stone-600",children:"Memuat produk..."})]}):pe.length===0?t.jsxs("div",{className:"text-center py-10",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 mx-auto text-stone-300 mb-4",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 16.318A4.486 4.486 0 0012.016 15a4.486 4.486 0 00-3.198 1.318M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})}),t.jsx("p",{className:"text-stone-600",children:u.trim()?`Tidak ada hasil untuk "${u}"`:"Tidak ada produk tersedia"}),u.trim()&&t.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"Coba kata kunci lain atau ubah filter"})]}):t.jsxs("div",{children:[t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[t.jsxs("div",{className:"text-xs text-stone-600",children:["Menampilkan ",Math.min((i-1)*M+1,R),"–",Math.min(i*M,R)," dari ",R," produk"]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[t.jsx("label",{htmlFor:"pagesize-top",className:"text-xs font-medium text-stone-700",children:"Per halaman:"}),t.jsxs("select",{id:"pagesize-top",value:M,onChange:e=>ye(Number(e.target.value)),className:"px-2 py-1 rounded-lg border border-stone-300 bg-white text-xs focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:12,children:"12"}),t.jsx("option",{value:24,children:"24"}),t.jsx("option",{value:48,children:"48"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 overflow-x-auto w-full sm:w-auto pb-1 sm:pb-0",children:[t.jsx("button",{disabled:i<=1,onClick:()=>v(e=>Math.max(1,e-1)),className:`px-2 sm:px-3 py-1 rounded-md border text-sm whitespace-nowrap ${i<=1?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Prev"}),(()=>{const e=[];if(d<=5)for(let s=1;s<=d;s++)e.push(s);else{e.push(1);let s=Math.max(2,i-1),a=Math.min(d-1,i+1);i<=3&&(s=2,a=4),i>=d-2&&(s=d-3,a=d-1),s>2&&e.push(-1);for(let r=s;r<=a;r++)e.push(r);a<d-1&&e.push(-1),e.push(d)}return e.map((s,a)=>s===-1?t.jsx("div",{className:"px-1 sm:px-2 text-stone-500",children:"…"},`sep-top-${a}`):t.jsx("button",{onClick:()=>v(s),className:`min-w-[2rem] px-1 sm:px-3 py-1 rounded-md border text-sm ${s===i?"bg-amber-600 text-white":"bg-white text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:s},`top-${s}`))})(),t.jsx("button",{disabled:i>=d,onClick:()=>v(e=>Math.min(d,e+1)),className:`px-2 sm:px-3 py-1 rounded-md border text-sm whitespace-nowrap ${i>=d?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Next"})]})]})}),t.jsx("div",{ref:Ee,className:"grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Te.map((e,n)=>{var s;return t.jsxs($e,{to:e.link,className:`group rounded-xl border overflow-hidden bg-white card-hover animate-fade-in ${e.type==="honey"?"border-stone-200":"border-green-200"} flex flex-col justify-between h-full`,style:{animationDelay:`${n*.05}s`,opacity:0,animationFillMode:"forwards"},children:[t.jsxs("div",{className:`aspect-square relative overflow-hidden image-hover-zoom ${e.type==="honey"?"bg-gradient-to-br from-amber-50 via-yellow-50 to-amber-100":"bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50"}`,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent"}),t.jsx(Le,{src:(s=e.image)!=null?s:"/logo.svg",alt:e.name,size:"sm",sizes:"(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"absolute inset-0 w-full h-full object-cover object-center drop-shadow-lg relative z-10 transform group-hover:scale-110 transition-transform duration-500"})]}),t.jsxs("div",{className:"p-3",children:[t.jsx("div",{className:"flex items-center gap-1.5 mb-1.5",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${e.type==="honey"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:e.type==="honey"?"MHoney":"Sundakawa"})}),t.jsx("h3",{className:`font-bold text-sm text-stone-900 transition-colors line-clamp-2 ${e.type==="honey"?"group-hover:text-amber-700":"group-hover:text-green-700"}`,children:e.name}),t.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[t.jsxs("p",{className:`font-semibold text-sm ${e.type==="honey"?"text-amber-700":"text-green-700"}`,children:[e.minPrice<e.maxPrice?"Mulai dari ":"","Rp"," ",e.price.toLocaleString("id-ID")]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("button",{type:"button",onClick:a=>{var h,I,y,B,V,W;a.preventDefault(),a.stopPropagation();const r=c.find(L=>L.id===e.id);if(((I=(h=r==null?void 0:r.variants)==null?void 0:h.length)!=null?I:0)>1){Z(L=>{var $;return J(A({},L),{[e.id]:($=L[e.id])!=null?$:0})}),P({[e.id]:!0});return}const x=(y=U[e.id])!=null?y:0,f=(B=r==null?void 0:r.variants)==null?void 0:B[x];Q({type:e.type,id:e.id,name:e.name,variant:f==null?void 0:f.name,price:(V=f==null?void 0:f.price)!=null?V:e.price,qty:1,image:(W=f==null?void 0:f.image)!=null?W:e.image}),z(L=>J(A({},L),{[e.id]:!0})),setTimeout(()=>z(L=>{const $=A({},L);return delete $[e.id],$}),650)},className:`rounded-md px-2 py-2 text-sm font-medium text-white transform transition-transform duration-150 ${e.type==="honey"?"bg-amber-700 hover:bg-amber-800":"bg-green-700 hover:bg-green-800"} ${q[e.id]?"scale-95":""}`,"aria-label":`Tambah ${e.name} ke keranjang`,children:q[e.id]?t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:t.jsx("path",{d:"M5 13l4 4L19 7",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):t.jsxs("div",{className:"relative",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4z"})}),t.jsx("div",{className:`absolute -top-1.5 -right-1.5 w-3 h-3 rounded-full flex items-center justify-center text-xs font-bold ${e.type==="honey"?"bg-amber-600":"bg-green-600"}`,children:t.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3.5,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})})})]})]})]},e.id)})}),t.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[t.jsxs("div",{className:"text-xs text-stone-600",children:["Menampilkan ",Math.min((i-1)*M+1,R),"–",Math.min(i*M,R)," dari ",R," produk"]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[t.jsx("label",{htmlFor:"pagesize",className:"text-xs font-medium text-stone-700",children:"Per halaman:"}),t.jsxs("select",{id:"pagesize",value:M,onChange:e=>ye(Number(e.target.value)),className:"px-2 py-1 rounded-lg border border-stone-300 bg-white text-xs focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:12,children:"12"}),t.jsx("option",{value:24,children:"24"}),t.jsx("option",{value:48,children:"48"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 overflow-x-auto w-full sm:w-auto pb-1 sm:pb-0",children:[t.jsx("button",{disabled:i<=1,onClick:()=>v(e=>Math.max(1,e-1)),className:`px-2 sm:px-3 py-1 rounded-md border text-sm whitespace-nowrap ${i<=1?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Prev"}),(()=>{const e=[];if(d<=5)for(let s=1;s<=d;s++)e.push(s);else{e.push(1);let s=Math.max(2,i-1),a=Math.min(d-1,i+1);i<=3&&(s=2,a=4),i>=d-2&&(s=d-3,a=d-1),s>2&&e.push(-1);for(let r=s;r<=a;r++)e.push(r);a<d-1&&e.push(-1),e.push(d)}return e.map((s,a)=>s===-1?t.jsx("div",{className:"px-1 sm:px-2 text-stone-500",children:"…"},`sep-${a}`):t.jsx("button",{onClick:()=>v(s),className:`min-w-[2rem] px-1 sm:px-3 py-1 rounded-md border text-sm ${s===i?"bg-amber-600 text-white":"bg-white text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:s},s))})(),t.jsx("button",{disabled:i>=d,onClick:()=>v(e=>Math.min(d,e+1)),className:`px-2 sm:px-3 py-1 rounded-md border text-sm whitespace-nowrap ${i>=d?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Next"})]})]})]}),C&&(()=>{var s,a,r,m,x,f;const e=w.find(h=>h.id===C);if(!e)return null;const n=(s=e.variants)!=null?s:[];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("button",{type:"button",className:"absolute inset-0 bg-black/40",onClick:()=>P({}),"aria-label":"Close modal"}),t.jsx("div",{className:"relative z-10 max-w-lg w-full mx-4",children:t.jsxs("div",{className:"rounded-lg bg-white p-5 shadow-lg",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-stone-700",children:"Pilih varian"}),t.jsx("h3",{className:"font-semibold text-lg text-stone-900 mt-1",children:e.name})]}),t.jsx("button",{onClick:()=>P({}),"aria-label":"Close",className:"text-stone-600 hover:text-stone-900",children:"✕"})]}),t.jsxs("div",{className:"mt-4 grid gap-2 md:grid-cols-3 md:gap-4",children:[t.jsx("div",{className:"col-span-1 flex items-center justify-center",children:t.jsx(Le,{src:(f=(x=(m=(r=e.variants)==null?void 0:r[(a=U[e.id])!=null?a:0])==null?void 0:m.image)!=null?x:e.image)!=null?f:"/logo.svg",alt:e.name,size:"md",className:"w-28 h-28 object-contain object-center rounded",loading:"eager"})}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("div",{className:"grid gap-2",children:n.map((h,I)=>{var y;return t.jsxs("button",{type:"button",onClick:()=>Z(B=>J(A({},B),{[e.id]:I})),className:`text-left px-3 py-2 rounded-md border ${((y=U[e.id])!=null?y:0)===I?"border-amber-600 bg-amber-50":"border-stone-200 bg-white"} text-sm`,children:[t.jsx("div",{className:"font-medium",children:h.name}),t.jsxs("div",{className:"text-xs text-stone-600 mt-1",children:["Rp ",h.price.toLocaleString("id-ID")]})]},h.name)})}),t.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[t.jsx("label",{htmlFor:"modal-qty-input",className:"text-sm text-stone-700",children:"Jumlah"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>E(Math.max(1,T-1)),className:"w-8 h-8 rounded-md border border-stone-200 bg-white",children:"−"}),t.jsx("input",{id:"modal-qty-input",type:"number",min:1,value:T,onChange:h=>E(Math.max(1,Number(h.target.value)||1)),className:"w-16 px-2 py-1 border rounded-md text-center"}),t.jsx("button",{type:"button",onClick:()=>E(T+1),className:"w-8 h-8 rounded-md border border-stone-200 bg-white",children:"+"})]})]})]})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>P({}),className:"rounded-md border border-stone-200 px-3 py-1 text-sm",children:"Batal"}),t.jsx("button",{type:"button",onClick:()=>{var B,V,W,L;const h=c.find($=>$.id===e.id),I=(B=U[e.id])!=null?B:0,y=(V=h==null?void 0:h.variants)==null?void 0:V[I];Q({type:e.type,id:e.id,name:e.name,variant:y==null?void 0:y.name,price:(W=y==null?void 0:y.price)!=null?W:e.price,qty:T,image:(L=y==null?void 0:y.image)!=null?L:e.image}),z($=>J(A({},$),{[e.id]:!0})),setTimeout(()=>z($=>{const Se=A({},$);return delete Se[e.id],Se}),650),P({})},className:`rounded-md px-3 py-1 text-sm text-white ${e.type==="honey"?"bg-amber-700 hover:bg-amber-800":"bg-green-700 hover:bg-green-800"}`,children:"Tambah ke Keranjang"})]})]})})]})})()]}),Pe&&t.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[t.jsx("button",{type:"button",className:"absolute inset-0 bg-black/30",onClick:()=>K(!1),"aria-label":"Close filter drawer"}),t.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-white rounded-t-xl shadow-lg flex flex-col max-h-[85vh]",children:[t.jsx("div",{className:"p-4 border-b border-stone-200 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Filter"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{me([]),ue([]),xe(null),he(null)},className:"text-sm text-amber-600",children:"Reset"}),t.jsx("button",{type:"button",onClick:()=>K(!1),className:"text-sm text-stone-500",children:"Close"})]})]})}),t.jsx("div",{className:"flex-1 overflow-auto p-4",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Kategori"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[le.slice(0,H?void 0:10).map(e=>{var s;const n=be.includes(e);return t.jsxs("button",{type:"button","aria-pressed":n,onClick:()=>me(a=>a.includes(e)?a.filter(r=>r!==e):[...a,e]),className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm transition-all ${n?"bg-amber-600 text-white shadow-sm":"bg-white border border-stone-200 text-stone-700 hover:bg-stone-50"}`,children:[t.jsx("span",{children:e}),t.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 text-xs rounded-full ${n?"bg-white/20 text-white":"bg-stone-100 text-stone-500"}`,children:(s=Ne.get(e))!=null?s:0})]},e)}),le.length>10&&t.jsx("button",{type:"button",onClick:()=>je(!H),className:"text-xs text-amber-600 hover:underline px-2 py-1.5",children:H?"Show less":"See more"})]})]}),F.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Tags"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[F.slice(0,_?void 0:10).map(e=>{var s;const n=fe.includes(e);return t.jsxs("button",{type:"button","aria-pressed":n,onClick:()=>ue(a=>a.includes(e)?a.filter(r=>r!==e):[...a,e]),className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs transition-all ${n?"bg-amber-600 text-white shadow-sm":"bg-white border border-stone-200 text-stone-700 hover:bg-stone-50"}`,children:[t.jsx("span",{children:e}),t.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 text-xs rounded-full ${n?"bg-white/20 text-white":"bg-stone-100 text-stone-500"}`,children:(s=ke.get(e))!=null?s:0})]},e)}),F.length>10&&t.jsx("button",{type:"button",onClick:()=>ve(!_),className:"text-xs text-amber-600 hover:underline px-2 py-1.5",children:_?"Show less":"See more"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Harga"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:re!=null?re:"",onChange:e=>xe(e.target.value===""?null:Number(e.target.value)),placeholder:`Min Rp ${ie.min.toLocaleString("id-ID")}`}),t.jsx("span",{className:"text-sm",children:"—"}),t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",value:oe!=null?oe:"",onChange:e=>he(e.target.value===""?null:Number(e.target.value)),placeholder:`Max Rp ${ie.max.toLocaleString("id-ID")}`})]})]})]})}),t.jsx("div",{className:"p-4 border-t border-stone-200 flex-shrink-0",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",className:"flex-1 px-4 py-2 rounded-lg bg-stone-100",onClick:()=>{K(!1)},children:"Cancel"}),t.jsx("button",{type:"button",className:"flex-1 px-4 py-2 rounded-lg bg-amber-600 text-white",onClick:()=>{te(be),se(fe),ne(re),ae(oe),K(!1)},children:"Apply"})]})})]})]})]})]})}export{ot as default};
