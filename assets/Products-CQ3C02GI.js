var $e=Object.defineProperty,Ie=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var be=(o,d,m)=>d in o?$e(o,d,{enumerable:!0,configurable:!0,writable:!0,value:m}):o[d]=m,B=(o,d)=>{for(var m in d||(d={}))ze.call(d,m)&&be(o,m,d[m]);if(ge)for(var m of ge(d))Te.call(d,m)&&be(o,m,d[m]);return o},K=(o,d)=>Ie(o,Ee(d));import{a as Re,j as t,t as ae,O as fe}from"./index-BPWaEDI-.js";import{u as Be,b as Ae,r as i,L as je}from"./react-vendor-Dw5DccgK.js";import{u as He,g as _e,a as Fe,b as Oe}from"./useItems-DMvVveWL.js";import{S as qe}from"./SEO-gMbXW5DO.js";import"./helmet-CAINHZvn.js";function De(o){var L,k,$,I,_,E,u,F,l,x;const d=((L=o.variants)!=null?L:[]).map(j=>j.price),m=d.length?Math.min(...d):(I=($=(k=o.variants)==null?void 0:k[0])==null?void 0:$.price)!=null?I:0,ne=d.length?Math.max(...d):(u=(E=(_=o.variants)==null?void 0:_[0])==null?void 0:E.price)!=null?u:0,U=m,V=[o.name,...(F=o.tags)!=null?F:[]].join(" "),W=o.type==="honey"?`/products/${o.slug}`:`/sundakawa/catalogue/${o.slug}`,J=o.images&&o.images.length>0?o.images[0]:Oe(o),Q=((l=o.variants)!=null?l:[]).map(j=>({name:j.name,price:j.price,image:j.image}));return{type:o.type,id:o.id,slug:o.slug,name:o.name,description:o.description,price:U,minPrice:m,maxPrice:ne,category:(x=o.category)!=null?x:"Uncategorized",image:J,searchText:V.toLowerCase(),link:W,variants:Q}}function Ge(){const o=Be(),d=Ae(),{items:m,loading:ne}=He(),{addItem:U}=Re(),V="products_page_size",W="products_page",[H,J]=i.useState({}),[Q,L]=i.useState({}),k=Object.keys(Q).find(e=>Q[e])||null,[$,I]=i.useState(1);i.useEffect(()=>{if(!k)return;const e=s=>{s.key==="Escape"&&L({})};document.addEventListener("keydown",e);const a=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=a}},[k]),i.useLayoutEffect(()=>{k&&I(1)},[k]);const[_,E]=i.useState({}),[u,F]=i.useState(()=>new URLSearchParams(o.search).get("q")||""),[l,x]=i.useState(()=>{const a=new URLSearchParams(o.search).get("page");if(a){const s=Number(a);if(!isNaN(s)&&s>0)return s}try{const s=sessionStorage.getItem(W),n=Number(s);if(!isNaN(n)&&n>0)return Math.max(1,n)}catch(s){}return 1}),[j,ce]=i.useState("name-asc"),[y,G]=i.useState("all"),[P,Y]=i.useState([]),[h,Z]=i.useState(null),[p,X]=i.useState(null),[ye,O]=i.useState(!1),[de,re]=i.useState([]),[ee,oe]=i.useState(null),[te,le]=i.useState(null),me=i.useRef(!0);i.useEffect(()=>{if(!me.current)return;me.current=!1;const e=new URLSearchParams(o.search),a=e.get("q")||"";F(a);const s=e.get("sort");s&&ce(s);const n=e.get("type");n&&G(n);const r=e.get("cats");r&&Y(r.split(",").filter(Boolean));const g=e.get("min"),w=e.get("max");Z(g?Number(g):null),X(w?Number(w):null);const b=e.get("page");b&&x(Math.max(1,Number(b)||1))},[]);const N=i.useMemo(()=>{const e=_e(m),a=Fe(m);return[...e,...a].map(De)},[m]),ie=i.useMemo(()=>{let e=N;if(y!=="all"&&(e=e.filter(a=>a.type===y)),u.trim()){const a=u.toLowerCase();e=e.filter(s=>s.searchText.includes(a))}if(P.length>0&&(e=e.filter(a=>{var s;return P.includes((s=a.category)!=null?s:"Uncategorized")})),h!=null||p!=null){const a=h!=null?h:-1/0,s=p!=null?p:1/0;e=e.filter(n=>n.maxPrice>=a&&n.minPrice<=s)}return e=[...e].sort((a,s)=>{switch(j){case"name-asc":return a.name.localeCompare(s.name);case"name-desc":return s.name.localeCompare(a.name);case"price-asc":return a.price-s.price;case"price-desc":return s.price-a.price;default:return 0}}),e},[N,u,j,y,P,h,p]),ve=(()=>{try{const e=sessionStorage.getItem(V),a=Number(e);return!isNaN(a)&&a>0?a:12}catch(e){return 12}})(),[C,ue]=i.useState(ve),z=ie.length,c=Math.max(1,Math.ceil(z/C));i.useEffect(()=>{l>c&&x(c),l<1&&x(1)},[c]),i.useLayoutEffect(()=>x(1),[u,j,y,P,h,p]),i.useEffect(()=>{try{sessionStorage.setItem(V,String(C))}catch(e){}x(1)},[C]),i.useEffect(()=>{try{sessionStorage.setItem(W,String(l))}catch(e){}},[l]);const Ne=ie.slice((l-1)*C,l*C),we=i.useRef(null),ke=e=>{F(e)};i.useEffect(()=>{const e=new URLSearchParams;u.trim()&&e.set("q",u.trim()),j&&j!=="name-asc"&&e.set("sort",j),y&&y!=="all"&&e.set("type",y),P.length>0&&e.set("cats",P.join(",")),h!=null&&e.set("min",String(h)),p!=null&&e.set("max",String(p)),l&&l>1&&e.set("page",String(l));const a=e.toString();a!==o.search.replace(/^\?/,"")&&d(`${o.pathname}${a?`?${a}`:""}`,{replace:!0})},[u,j,y,P,h,p,l]),i.useEffect(()=>{const e=a=>{const s=document.activeElement;s&&(s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.tagName==="SELECT")||k||(a.key==="ArrowRight"?x(n=>Math.min(c,n+1)):a.key==="ArrowLeft"&&x(n=>Math.max(1,n-1)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[c,k]),i.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[l]);const Ce=N.filter(e=>e.type==="honey").length,Se=N.filter(e=>e.type==="hamper").length,xe=i.useMemo(()=>{const e=new Set(N.map(a=>{var s;return(s=a.category)!=null?s:"Uncategorized"}));return Array.from(e).filter(Boolean).sort()},[N]),se=i.useMemo(()=>{const e=N.map(r=>{var g,w;return(w=(g=r.minPrice)!=null?g:r.price)!=null?w:0}).filter(Boolean),a=N.map(r=>{var g,w;return(w=(g=r.maxPrice)!=null?g:r.price)!=null?w:0}).filter(Boolean),s=e.length?Math.min(...e):0,n=a.length?Math.max(...a):0;return{min:s,max:n}},[N]),he=i.useMemo(()=>{var s,n;const e=new Map,a=N.filter(r=>(y==="all"||r.type===y)&&(!u.trim()||r.searchText.includes(u.toLowerCase()))&&(h==null||p==null||r.maxPrice>=h&&r.minPrice<=p));for(const r of a){const g=(s=r.category)!=null?s:"Uncategorized";e.set(g,((n=e.get(g))!=null?n:0)+1)}return e},[N,y,u,h,p]),A=o.pathname.includes("/sundakawa"),Me=A?"Katalog Hampers Premium":"Produk Madu Murni",Le=A?"Jelajahi koleksi hampers premium Sundakawa dengan sentuhan alam dan estetika rustik. Paket hadiah berisi madu murni MHoney untuk momen spesial.":"Jelajahi koleksi madu murni premium MHoney. Madu Multiflora, Kelengkeng, Royal Jelly 100% asli tanpa campuran untuk gaya hidup sehat.",Pe=A?"hampers premium, paket hadiah, gift box, sundakawa, hampers madu, corporate gift, hampers lebaran":"madu murni, madu asli, madu premium, MHoney, jual madu, madu multiflora, madu kelengkeng";return t.jsxs(t.Fragment,{children:[t.jsx(qe,{title:Me,description:Le,keywords:Pe,url:A?"/sundakawa/catalogue":"/products",breadcrumbs:[{name:"Home",url:"/"},{name:A?"Sundakawa Catalogue":"Produk",url:A?"/sundakawa/catalogue":"/products"}]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[t.jsx("div",{className:"mb-8 lg:col-span-12",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:u,onChange:e=>ke(e.target.value),placeholder:"Cari madu, hampers, atau produk lainnya...",className:"w-full px-4 py-3 pl-12 rounded-lg border border-stone-300 focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all text-lg"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 absolute left-4 top-1/2 transform -translate-y-1/2 text-stone-400",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]})}),t.jsx("aside",{className:"hidden lg:block lg:col-span-3",children:t.jsxs("div",{className:"sticky top-24",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Kategori"}),t.jsx("button",{onClick:()=>Y([]),className:"text-sm text-amber-600 hover:underline",children:"Clear"})]}),t.jsx("div",{className:"flex flex-col gap-2",children:xe.map(e=>{var s;const a=P.includes(e);return t.jsxs("button",{type:"button","aria-pressed":a,onClick:()=>Y(n=>n.includes(e)?n.filter(r=>r!==e):[...n,e]),className:`inline-flex items-center justify-between gap-3 px-3 py-2 rounded-full text-sm transition-all ${a?"bg-amber-600 text-white shadow-sm":"bg-white border border-stone-200 text-stone-700 hover:bg-stone-50"}`,children:[t.jsx("span",{className:"truncate",children:e}),t.jsx("span",{className:`ml-2 inline-flex items-center justify-center w-6 h-6 text-xs rounded-full ${a?"bg-white/20 text-white":"bg-stone-100 text-stone-500"}`,children:(s=he.get(e))!=null?s:0})]},e)})}),t.jsxs("div",{className:"mt-4 p-4 bg-stone-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"Harga"}),t.jsx("button",{type:"button",onClick:()=>{Z(null),X(null)},className:"text-xs text-amber-600",children:"Reset"})]}),t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-200",value:h!=null?h:"",onChange:e=>Z(e.target.value===""?null:Number(e.target.value)),placeholder:`Min Rp ${se.min.toLocaleString("id-ID")}`}),t.jsx("span",{className:"text-sm",children:"—"}),t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-200",value:p!=null?p:"",onChange:e=>X(e.target.value===""?null:Number(e.target.value)),placeholder:`Max Rp ${se.max.toLocaleString("id-ID")}`})]})})]}),t.jsx("div",{className:"mt-3",children:t.jsx(je,{to:"/sundakawa/custom","aria-label":"Buat Custom Order",className:"w-full inline-flex items-center justify-center rounded-lg bg-green-600 hover:bg-green-700 text-white px-4 py-2 font-medium transition-colors",children:"Buat Custom Order"})})]})}),t.jsxs("main",{className:"lg:col-span-9",children:[t.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{G("all"),ae("filter_products",{filter_type:"all"})},className:`px-4 py-2 rounded-lg font-medium transition-all ${y==="all"?"bg-amber-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["Semua (",N.length,")"]}),t.jsxs("button",{onClick:()=>{G("honey"),ae("filter_products",{filter_type:"honey"})},className:`px-4 py-2 rounded-lg font-medium transition-all ${y==="honey"?"bg-amber-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["MHoney (",Ce,")"]}),t.jsxs("button",{onClick:()=>{G("hamper"),ae("filter_products",{filter_type:"hamper"})},className:`px-4 py-2 rounded-lg font-medium transition-all ${y==="hamper"?"bg-green-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["Sundakawa (",Se,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-stone-700",children:"Urutkan:"}),t.jsxs("select",{id:"sort",value:j,onChange:e=>{const a=e.target.value;ce(a),ae("sort_products",{sort_by:a})},className:"px-3 py-2 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"name-asc",children:"Nama (A-Z)"}),t.jsx("option",{value:"price-asc",children:"Harga (Rendah-Tinggi)"}),t.jsx("option",{value:"price-desc",children:"Harga (Tinggi-Rendah)"})]}),t.jsx("div",{className:"ml-2 flex items-center gap-3",children:t.jsx("div",{className:"ml-3 lg:hidden",children:t.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-stone-100 text-sm text-stone-700 hover:bg-stone-200",onClick:()=>{re(P),oe(h),le(p),O(!0)},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v2a1 1 0 0 1-.293.707L15 13.414V21a1 1 0 0 1-1.447.894L9 19.333V13.414L3.293 6.707A1 1 0 0 1 3 6V4z"})}),t.jsx("span",{children:"Filter"})]})})})]})]}),ne?t.jsxs("div",{className:"text-center py-10",children:[t.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-300 border-t-amber-600 rounded-full animate-spin"}),t.jsx("p",{className:"mt-4 text-stone-600",children:"Memuat produk..."})]}):ie.length===0?t.jsxs("div",{className:"text-center py-10",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 mx-auto text-stone-300 mb-4",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 16.318A4.486 4.486 0 0012.016 15a4.486 4.486 0 00-3.198 1.318M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})}),t.jsx("p",{className:"text-stone-600",children:u.trim()?`Tidak ada hasil untuk "${u}"`:"Tidak ada produk tersedia"}),u.trim()&&t.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"Coba kata kunci lain atau ubah filter"})]}):t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-stone-600",children:["Menampilkan ",Math.min((l-1)*C+1,z),"–",Math.min(l*C,z)," dari ",z," produk"]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[t.jsx("label",{htmlFor:"pagesize-top",className:"text-sm font-medium text-stone-700",children:"Per halaman:"}),t.jsxs("select",{id:"pagesize-top",value:C,onChange:e=>ue(Number(e.target.value)),className:"px-2 py-1 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:12,children:"12"}),t.jsx("option",{value:24,children:"24"}),t.jsx("option",{value:48,children:"48"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{disabled:l<=1,onClick:()=>x(e=>Math.max(1,e-1)),className:`px-3 py-1 rounded-md border ${l<=1?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Prev"}),(()=>{const e=[];if(c<=7)for(let s=1;s<=c;s++)e.push(s);else{e.push(1);let s=Math.max(2,l-1),n=Math.min(c-1,l+1);l<=3&&(s=2,n=4),l>=c-2&&(s=c-3,n=c-1),s>2&&e.push(-1);for(let r=s;r<=n;r++)e.push(r);n<c-1&&e.push(-1),e.push(c)}return e.map((s,n)=>s===-1?t.jsx("div",{className:"px-2",children:"…"},`sep-top-${n}`):t.jsx("button",{onClick:()=>x(s),className:`px-3 py-1 rounded-md border ${s===l?"bg-amber-600 text-white":"bg-white text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:s},`top-${s}`))})(),t.jsx("button",{disabled:l>=c,onClick:()=>x(e=>Math.min(c,e+1)),className:`px-3 py-1 rounded-md border ${l>=c?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Next"})]})]})}),t.jsx("div",{ref:we,className:"grid gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Ne.map((e,a)=>{var s;return t.jsxs(je,{to:e.link,className:`group rounded-2xl border overflow-hidden bg-white card-hover animate-fade-in ${e.type==="honey"?"border-stone-200":"border-green-200"} flex flex-col justify-between h-full`,style:{animationDelay:`${a*.05}s`,opacity:0,animationFillMode:"forwards"},children:[t.jsxs("div",{className:`aspect-square flex items-center justify-center relative overflow-hidden image-hover-zoom ${e.type==="honey"?"bg-gradient-to-br from-amber-50 via-yellow-50 to-amber-100":"bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50"}`,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent"}),t.jsx(fe,{src:(s=e.image)!=null?s:"/logo.svg",alt:e.name,className:"w-full h-full object-contain object-center drop-shadow-lg relative z-10 transform group-hover:scale-110 transition-transform duration-500"})]}),t.jsxs("div",{className:"p-5",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${e.type==="honey"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:e.type==="honey"?"MHoney":"Sundakawa"})}),t.jsx("h3",{className:`font-bold text-base text-stone-900 transition-colors ${e.type==="honey"?"group-hover:text-amber-700":"group-hover:text-green-700"}`,children:e.name}),t.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[t.jsxs("p",{className:`font-semibold text-sm ${e.type==="honey"?"text-amber-700":"text-green-700"}`,children:[e.minPrice<e.maxPrice?"Mulai dari ":"","Rp"," ",e.price.toLocaleString("id-ID")]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("button",{type:"button",onClick:n=>{var v,T,f,R,q,D;n.preventDefault(),n.stopPropagation();const r=m.find(S=>S.id===e.id);if(((T=(v=r==null?void 0:r.variants)==null?void 0:v.length)!=null?T:0)>1){J(S=>{var M;return K(B({},S),{[e.id]:(M=S[e.id])!=null?M:0})}),L({[e.id]:!0});return}const w=(f=H[e.id])!=null?f:0,b=(R=r==null?void 0:r.variants)==null?void 0:R[w];U({type:e.type,id:e.id,name:e.name,variant:b==null?void 0:b.name,price:(q=b==null?void 0:b.price)!=null?q:e.price,qty:1,image:(D=b==null?void 0:b.image)!=null?D:e.image}),E(S=>K(B({},S),{[e.id]:!0})),setTimeout(()=>E(S=>{const M=B({},S);return delete M[e.id],M}),650)},className:`rounded-md px-2 py-2 text-sm font-medium text-white transform transition-transform duration-150 ${e.type==="honey"?"bg-amber-700 hover:bg-amber-800":"bg-green-700 hover:bg-green-800"} ${_[e.id]?"scale-95":""}`,"aria-label":`Tambah ${e.name} ke keranjang`,children:_[e.id]?t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:t.jsx("path",{d:"M5 13l4 4L19 7",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):t.jsxs("div",{className:"relative",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4z"})}),t.jsx("div",{className:`absolute -top-1.5 -right-1.5 w-3 h-3 rounded-full flex items-center justify-center text-xs font-bold ${e.type==="honey"?"bg-amber-600":"bg-green-600"}`,children:t.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3.5,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]})})})]})]})]},e.id)})}),t.jsxs("div",{className:"mt-6 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-stone-600",children:["Menampilkan ",Math.min((l-1)*C+1,z),"–",Math.min(l*C,z)," dari ",z," produk"]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[t.jsx("label",{htmlFor:"pagesize",className:"text-sm font-medium text-stone-700",children:"Per halaman:"}),t.jsxs("select",{id:"pagesize",value:C,onChange:e=>ue(Number(e.target.value)),className:"px-2 py-1 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:12,children:"12"}),t.jsx("option",{value:24,children:"24"}),t.jsx("option",{value:48,children:"48"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{disabled:l<=1,onClick:()=>x(e=>Math.max(1,e-1)),className:`px-3 py-1 rounded-md border ${l<=1?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Prev"}),(()=>{const e=[];if(c<=7)for(let s=1;s<=c;s++)e.push(s);else{e.push(1);let s=Math.max(2,l-1),n=Math.min(c-1,l+1);l<=3&&(s=2,n=4),l>=c-2&&(s=c-3,n=c-1),s>2&&e.push(-1);for(let r=s;r<=n;r++)e.push(r);n<c-1&&e.push(-1),e.push(c)}return e.map((s,n)=>s===-1?t.jsx("div",{className:"px-2",children:"…"},`sep-${n}`):t.jsx("button",{onClick:()=>x(s),className:`px-3 py-1 rounded-md border ${s===l?"bg-amber-600 text-white":"bg-white text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:s},s))})(),t.jsx("button",{disabled:l>=c,onClick:()=>x(e=>Math.min(c,e+1)),className:`px-3 py-1 rounded-md border ${l>=c?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Next"})]})]})]}),k&&(()=>{var s,n,r,g,w,b;const e=N.find(v=>v.id===k);if(!e)return null;const a=(s=e.variants)!=null?s:[];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("button",{type:"button",className:"absolute inset-0 bg-black/40",onClick:()=>L({}),"aria-label":"Close modal"}),t.jsx("div",{className:"relative z-10 max-w-lg w-full mx-4",children:t.jsxs("div",{className:"rounded-lg bg-white p-5 shadow-lg",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-stone-700",children:"Pilih varian"}),t.jsx("h3",{className:"font-semibold text-lg text-stone-900 mt-1",children:e.name})]}),t.jsx("button",{onClick:()=>L({}),"aria-label":"Close",className:"text-stone-600 hover:text-stone-900",children:"✕"})]}),t.jsxs("div",{className:"mt-4 grid gap-2 md:grid-cols-3 md:gap-4",children:[t.jsx("div",{className:"col-span-1 flex items-center justify-center",children:t.jsx(fe,{src:(b=(w=(g=(r=e.variants)==null?void 0:r[(n=H[e.id])!=null?n:0])==null?void 0:g.image)!=null?w:e.image)!=null?b:"/logo.svg",alt:e.name,className:"w-28 h-28 object-contain object-center rounded",loading:"eager"})}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("div",{className:"grid gap-2",children:a.map((v,T)=>{var f;return t.jsxs("button",{type:"button",onClick:()=>J(R=>K(B({},R),{[e.id]:T})),className:`text-left px-3 py-2 rounded-md border ${((f=H[e.id])!=null?f:0)===T?"border-amber-600 bg-amber-50":"border-stone-200 bg-white"} text-sm`,children:[t.jsx("div",{className:"font-medium",children:v.name}),t.jsxs("div",{className:"text-xs text-stone-600 mt-1",children:["Rp ",v.price.toLocaleString("id-ID")]})]},v.name)})}),t.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[t.jsx("label",{htmlFor:"modal-qty-input",className:"text-sm text-stone-700",children:"Jumlah"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>I(Math.max(1,$-1)),className:"w-8 h-8 rounded-md border border-stone-200 bg-white",children:"−"}),t.jsx("input",{id:"modal-qty-input",type:"number",min:1,value:$,onChange:v=>I(Math.max(1,Number(v.target.value)||1)),className:"w-16 px-2 py-1 border rounded-md text-center"}),t.jsx("button",{type:"button",onClick:()=>I($+1),className:"w-8 h-8 rounded-md border border-stone-200 bg-white",children:"+"})]})]})]})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>L({}),className:"rounded-md border border-stone-200 px-3 py-1 text-sm",children:"Batal"}),t.jsx("button",{type:"button",onClick:()=>{var R,q,D,S;const v=m.find(M=>M.id===e.id),T=(R=H[e.id])!=null?R:0,f=(q=v==null?void 0:v.variants)==null?void 0:q[T];U({type:e.type,id:e.id,name:e.name,variant:f==null?void 0:f.name,price:(D=f==null?void 0:f.price)!=null?D:e.price,qty:$,image:(S=f==null?void 0:f.image)!=null?S:e.image}),E(M=>K(B({},M),{[e.id]:!0})),setTimeout(()=>E(M=>{const pe=B({},M);return delete pe[e.id],pe}),650),L({})},className:`rounded-md px-3 py-1 text-sm text-white ${e.type==="honey"?"bg-amber-700 hover:bg-amber-800":"bg-green-700 hover:bg-green-800"}`,children:"Tambah ke Keranjang"})]})]})})]})})()]}),ye&&t.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[t.jsx("button",{type:"button",className:"absolute inset-0 bg-black/30",onClick:()=>O(!1),"aria-label":"Close filter drawer"}),t.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-white rounded-t-xl p-4 shadow-lg max-h-[75vh] overflow-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Filter"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{re([]),oe(null),le(null)},className:"text-sm text-amber-600",children:"Reset"}),t.jsx("button",{type:"button",onClick:()=>O(!1),className:"text-sm text-stone-500",children:"Close"})]})]}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Kategori"}),t.jsx("div",{className:"flex flex-col gap-2",children:xe.map(e=>{var s;const a=de.includes(e);return t.jsxs("button",{type:"button","aria-pressed":a,onClick:()=>re(n=>n.includes(e)?n.filter(r=>r!==e):[...n,e]),className:`inline-flex items-center justify-between gap-3 px-3 py-2 rounded-full text-sm transition-all ${a?"bg-amber-600 text-white shadow-sm":"bg-white border border-stone-200 text-stone-700 hover:bg-stone-50"}`,children:[t.jsx("span",{className:"truncate",children:e}),t.jsx("span",{className:`ml-2 inline-flex items-center justify-center w-6 h-6 text-xs rounded-full ${a?"bg-white/20 text-white":"bg-stone-100 text-stone-500"}`,children:(s=he.get(e))!=null?s:0})]},e)})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Harga"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-200",value:ee!=null?ee:"",onChange:e=>oe(e.target.value===""?null:Number(e.target.value)),placeholder:`Min Rp ${se.min.toLocaleString("id-ID")}`}),t.jsx("span",{className:"text-sm",children:"—"}),t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-200",value:te!=null?te:"",onChange:e=>le(e.target.value===""?null:Number(e.target.value)),placeholder:`Max Rp ${se.max.toLocaleString("id-ID")}`})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-stone-100",onClick:()=>{O(!1)},children:"Cancel"}),t.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-amber-600 text-white",onClick:()=>{Y(de),Z(ee),X(te),O(!1)},children:"Apply"})]})]})]})]})]})]})}export{Ge as default};
