var Pe=Object.defineProperty,Ie=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var ge=(r,d,m)=>d in r?Pe(r,d,{enumerable:!0,configurable:!0,writable:!0,value:m}):r[d]=m,B=(r,d)=>{for(var m in d||(d={}))Ee.call(d,m)&&ge(r,m,d[m]);if(pe)for(var m of pe(d))ze.call(d,m)&&ge(r,m,d[m]);return r},V=(r,d)=>Ie(r,$e(d));import{a as Te,j as t,O as be}from"./index-emafHZTv.js";import{u as Re,b as Be,r as i,L as fe}from"./react-vendor-Dw5DccgK.js";import{u as Ae,g as He,a as Fe,b as Oe}from"./useItems-CIeSmGIL.js";import{S as De}from"./SEO-BZm7sRYp.js";import"./helmet-CAINHZvn.js";function Ke(r){var L,k,I,$,F,E,u,O,o,x;const d=((L=r.variants)!=null?L:[]).map(j=>j.price),m=d.length?Math.min(...d):($=(I=(k=r.variants)==null?void 0:k[0])==null?void 0:I.price)!=null?$:0,ae=d.length?Math.max(...d):(u=(E=(F=r.variants)==null?void 0:F[0])==null?void 0:E.price)!=null?u:0,q=m,_=[r.name,...(O=r.tags)!=null?O:[]].join(" "),J=r.type==="honey"?`/products/${r.slug}`:`/sundakawa/catalogue/${r.slug}`,W=r.images&&r.images.length>0?r.images[0]:Oe(r),Q=((o=r.variants)!=null?o:[]).map(j=>({name:j.name,price:j.price,image:j.image}));return{type:r.type,id:r.id,slug:r.slug,name:r.name,description:r.description,price:q,minPrice:m,maxPrice:ae,category:(x=r.category)!=null?x:"Uncategorized",image:W,searchText:_.toLowerCase(),link:J,variants:Q}}function Qe(){const r=Re(),d=Be(),{items:m,loading:ae}=Ae(),{addItem:q}=Te(),_="products_page_size",J="products_page",[H,W]=i.useState({}),[Q,L]=i.useState({}),k=Object.keys(Q).find(e=>Q[e])||null,[I,$]=i.useState(1);i.useEffect(()=>{if(!k)return;const e=s=>{s.key==="Escape"&&L({})};document.addEventListener("keydown",e);const a=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=a}},[k]),i.useEffect(()=>{k&&$(1)},[k]);const[F,E]=i.useState({}),[u,O]=i.useState(()=>new URLSearchParams(r.search).get("q")||""),[o,x]=i.useState(()=>{const a=new URLSearchParams(r.search).get("page");if(a){const s=Number(a);if(!isNaN(s)&&s>0)return s}try{const s=sessionStorage.getItem(J),n=Number(s);if(!isNaN(n)&&n>0)return Math.max(1,n)}catch(s){}return 1}),[j,ie]=i.useState("name-asc"),[v,G]=i.useState("all"),[P,Y]=i.useState([]),[h,Z]=i.useState(null),[p,X]=i.useState(null),[je,D]=i.useState(!1),[ce,ne]=i.useState([]),[ee,re]=i.useState(null),[te,oe]=i.useState(null),de=i.useRef(!0);i.useEffect(()=>{if(!de.current)return;de.current=!1;const e=new URLSearchParams(r.search),a=e.get("q")||"";O(a);const s=e.get("sort");s&&ie(s);const n=e.get("type");n&&G(n);const l=e.get("cats");l&&Y(l.split(",").filter(Boolean));const g=e.get("min"),w=e.get("max");Z(g?Number(g):null),X(w?Number(w):null);const b=e.get("page");b&&x(Math.max(1,Number(b)||1))},[r.search]);const N=i.useMemo(()=>{const e=He(m),a=Fe(m);return[...e,...a].map(Ke)},[m]),le=i.useMemo(()=>{let e=N;if(v!=="all"&&(e=e.filter(a=>a.type===v)),u.trim()){const a=u.toLowerCase();e=e.filter(s=>s.searchText.includes(a))}if(P.length>0&&(e=e.filter(a=>{var s;return P.includes((s=a.category)!=null?s:"Uncategorized")})),h!=null||p!=null){const a=h!=null?h:-1/0,s=p!=null?p:1/0;e=e.filter(n=>n.maxPrice>=a&&n.minPrice<=s)}return e=[...e].sort((a,s)=>{switch(j){case"name-asc":return a.name.localeCompare(s.name);case"name-desc":return s.name.localeCompare(a.name);case"price-asc":return a.price-s.price;case"price-desc":return s.price-a.price;default:return 0}}),e},[N,u,j,v,P,h,p]),ve=(()=>{try{const e=sessionStorage.getItem(_),a=Number(e);return!isNaN(a)&&a>0?a:12}catch(e){return 12}})(),[C,me]=i.useState(ve),z=le.length,c=Math.max(1,Math.ceil(z/C));i.useEffect(()=>{o>c&&x(c),o<1&&x(1)},[o,c]),i.useLayoutEffect(()=>x(1),[u,j,v,P,h,p]),i.useEffect(()=>{try{sessionStorage.setItem(_,String(C))}catch(e){}x(1)},[C]),i.useEffect(()=>{try{sessionStorage.setItem(J,String(o))}catch(e){}},[o]);const ye=le.slice((o-1)*C,o*C),Ne=i.useRef(null),we=e=>{O(e)};i.useEffect(()=>{const e=new URLSearchParams;u.trim()&&e.set("q",u.trim()),j&&j!=="name-asc"&&e.set("sort",j),v&&v!=="all"&&e.set("type",v),P.length>0&&e.set("cats",P.join(",")),h!=null&&e.set("min",String(h)),p!=null&&e.set("max",String(p)),o&&o>1&&e.set("page",String(o));const a=e.toString();a!==r.search.replace(/^\?/,"")&&d(`${r.pathname}${a?`?${a}`:""}`,{replace:!0})},[u,j,v,P,h,p,o,r.pathname,d]),i.useEffect(()=>{const e=a=>{const s=document.activeElement;s&&(s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.tagName==="SELECT")||k||(a.key==="ArrowRight"?x(n=>Math.min(c,n+1)):a.key==="ArrowLeft"&&x(n=>Math.max(1,n-1)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[c,k]),i.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]);const ke=N.filter(e=>e.type==="honey").length,Ce=N.filter(e=>e.type==="hamper").length,ue=i.useMemo(()=>{const e=new Set(N.map(a=>{var s;return(s=a.category)!=null?s:"Uncategorized"}));return Array.from(e).filter(Boolean).sort()},[N]),se=i.useMemo(()=>{const e=N.map(l=>{var g,w;return(w=(g=l.minPrice)!=null?g:l.price)!=null?w:0}).filter(Boolean),a=N.map(l=>{var g,w;return(w=(g=l.maxPrice)!=null?g:l.price)!=null?w:0}).filter(Boolean),s=e.length?Math.min(...e):0,n=a.length?Math.max(...a):0;return{min:s,max:n}},[N]),xe=i.useMemo(()=>{var s,n;const e=new Map,a=N.filter(l=>(v==="all"||l.type===v)&&(!u.trim()||l.searchText.includes(u.toLowerCase()))&&(h==null||p==null||l.maxPrice>=h&&l.minPrice<=p));for(const l of a){const g=(s=l.category)!=null?s:"Uncategorized";e.set(g,((n=e.get(g))!=null?n:0)+1)}return e},[N,v,u,h,p]),A=r.pathname.includes("/sundakawa"),Se=A?"Katalog Hampers Premium":"Produk Madu Murni",Me=A?"Jelajahi koleksi hampers premium Sundakawa dengan sentuhan alam dan estetika rustik. Paket hadiah berisi madu murni MHoney untuk momen spesial.":"Jelajahi koleksi madu murni premium MHoney. Madu Multiflora, Kelengkeng, Royal Jelly 100% asli tanpa campuran untuk gaya hidup sehat.",Le=A?"hampers premium, paket hadiah, gift box, sundakawa, hampers madu, corporate gift, hampers lebaran":"madu murni, madu asli, madu premium, MHoney, jual madu, madu multiflora, madu kelengkeng";return t.jsxs(t.Fragment,{children:[t.jsx(De,{title:Se,description:Me,keywords:Le,url:A?"/sundakawa/catalogue":"/products",breadcrumbs:[{name:"Home",url:"/"},{name:A?"Sundakawa Catalogue":"Produk",url:A?"/sundakawa/catalogue":"/products"}]}),t.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[t.jsx("div",{className:"mb-8 lg:col-span-12",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:u,onChange:e=>we(e.target.value),placeholder:"Cari madu, hampers, atau produk lainnya...",className:"w-full px-4 py-3 pl-12 rounded-lg border border-stone-300 focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all text-lg",autoFocus:!0}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 absolute left-4 top-1/2 transform -translate-y-1/2 text-stone-400",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})]})}),t.jsx("aside",{className:"hidden lg:block lg:col-span-3",children:t.jsxs("div",{className:"sticky top-24",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Kategori"}),t.jsx("button",{onClick:()=>Y([]),className:"text-sm text-amber-600 hover:underline",children:"Clear"})]}),t.jsx("div",{className:"flex flex-col gap-2",children:ue.map(e=>{var s;const a=P.includes(e);return t.jsxs("button",{type:"button","aria-pressed":a,onClick:()=>Y(n=>n.includes(e)?n.filter(l=>l!==e):[...n,e]),className:`inline-flex items-center justify-between gap-3 px-3 py-2 rounded-full text-sm transition-all ${a?"bg-amber-600 text-white shadow-sm":"bg-white border border-stone-200 text-stone-700 hover:bg-stone-50"}`,children:[t.jsx("span",{className:"truncate",children:e}),t.jsx("span",{className:`ml-2 inline-flex items-center justify-center w-6 h-6 text-xs rounded-full ${a?"bg-white/20 text-white":"bg-stone-100 text-stone-500"}`,children:(s=xe.get(e))!=null?s:0})]},e)})}),t.jsxs("div",{className:"mt-4 p-4 bg-stone-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-sm font-semibold",children:"Harga"}),t.jsx("button",{type:"button",onClick:()=>{Z(null),X(null)},className:"text-xs text-amber-600",children:"Reset"})]}),t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-200",value:h!=null?h:"",onChange:e=>Z(e.target.value===""?null:Number(e.target.value)),placeholder:`Min Rp ${se.min.toLocaleString("id-ID")}`}),t.jsx("span",{className:"text-sm",children:"—"}),t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-200",value:p!=null?p:"",onChange:e=>X(e.target.value===""?null:Number(e.target.value)),placeholder:`Max Rp ${se.max.toLocaleString("id-ID")}`})]})})]}),t.jsx("div",{className:"mt-3",children:t.jsx(fe,{to:"/sundakawa/custom","aria-label":"Buat Custom Order",className:"w-full inline-flex items-center justify-center rounded-lg bg-green-600 hover:bg-green-700 text-white px-4 py-2 font-medium transition-colors",children:"Buat Custom Order"})})]})}),t.jsxs("main",{className:"lg:col-span-9",children:[t.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>G("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${v==="all"?"bg-amber-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["Semua (",N.length,")"]}),t.jsxs("button",{onClick:()=>G("honey"),className:`px-4 py-2 rounded-lg font-medium transition-all ${v==="honey"?"bg-amber-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["MHoney (",ke,")"]}),t.jsxs("button",{onClick:()=>G("hamper"),className:`px-4 py-2 rounded-lg font-medium transition-all ${v==="hamper"?"bg-green-600 text-white shadow-md":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:["Sundakawa (",Ce,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-stone-700",children:"Urutkan:"}),t.jsxs("select",{id:"sort",value:j,onChange:e=>ie(e.target.value),className:"px-3 py-2 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:"name-asc",children:"Nama (A-Z)"}),t.jsx("option",{value:"price-asc",children:"Harga (Rendah-Tinggi)"}),t.jsx("option",{value:"price-desc",children:"Harga (Tinggi-Rendah)"})]}),t.jsx("div",{className:"ml-2 flex items-center gap-3",children:t.jsx("div",{className:"ml-3 lg:hidden",children:t.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-stone-100 text-sm text-stone-700 hover:bg-stone-200",onClick:()=>{ne(P),re(h),oe(p),D(!0)},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v2a1 1 0 0 1-.293.707L15 13.414V21a1 1 0 0 1-1.447.894L9 19.333V13.414L3.293 6.707A1 1 0 0 1 3 6V4z"})}),t.jsx("span",{children:"Filter"})]})})})]})]}),ae?t.jsx("div",{className:"text-center py-10",children:t.jsx("p",{className:"text-stone-600",children:"Memuat produk..."})}):le.length===0?t.jsxs("div",{className:"text-center py-10",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 mx-auto text-stone-300 mb-4",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 16.318A4.486 4.486 0 0012.016 15a4.486 4.486 0 00-3.198 1.318M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})}),t.jsx("p",{className:"text-stone-600",children:u.trim()?`Tidak ada hasil untuk "${u}"`:"Tidak ada produk tersedia"}),u.trim()&&t.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"Coba kata kunci lain atau ubah filter"})]}):t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-stone-600",children:["Menampilkan ",Math.min((o-1)*C+1,z),"–",Math.min(o*C,z)," dari ",z," produk"]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[t.jsx("label",{htmlFor:"pagesize-top",className:"text-sm font-medium text-stone-700",children:"Per halaman:"}),t.jsxs("select",{id:"pagesize-top",value:C,onChange:e=>me(Number(e.target.value)),className:"px-2 py-1 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:12,children:"12"}),t.jsx("option",{value:24,children:"24"}),t.jsx("option",{value:48,children:"48"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{disabled:o<=1,onClick:()=>x(e=>Math.max(1,e-1)),className:`px-3 py-1 rounded-md border ${o<=1?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Prev"}),(()=>{const e=[];if(c<=7)for(let s=1;s<=c;s++)e.push(s);else{e.push(1);let s=Math.max(2,o-1),n=Math.min(c-1,o+1);o<=3&&(s=2,n=4),o>=c-2&&(s=c-3,n=c-1),s>2&&e.push(-1);for(let l=s;l<=n;l++)e.push(l);n<c-1&&e.push(-1),e.push(c)}return e.map((s,n)=>s===-1?t.jsx("div",{className:"px-2",children:"…"},`sep-top-${n}`):t.jsx("button",{onClick:()=>x(s),className:`px-3 py-1 rounded-md border ${s===o?"bg-amber-600 text-white":"bg-white text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:s},`top-${s}`))})(),t.jsx("button",{disabled:o>=c,onClick:()=>x(e=>Math.min(c,e+1)),className:`px-3 py-1 rounded-md border ${o>=c?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Next"})]})]})}),t.jsx("div",{ref:Ne,className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:ye.map((e,a)=>{var s;return t.jsxs(fe,{to:e.link,className:`group rounded-2xl border overflow-hidden bg-white card-hover animate-fade-in ${e.type==="honey"?"border-stone-200":"border-green-200"} flex flex-col justify-between h-full`,style:{animationDelay:`${a*.05}s`,opacity:0,animationFillMode:"forwards"},children:[t.jsxs("div",{className:`aspect-square flex items-center justify-center relative overflow-hidden image-hover-zoom ${e.type==="honey"?"bg-gradient-to-br from-amber-50 via-yellow-50 to-amber-100":"bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50"}`,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent"}),t.jsx(be,{src:(s=e.image)!=null?s:"/logo.svg",alt:e.name,className:"w-full h-full object-contain object-center drop-shadow-lg relative z-10 transform group-hover:scale-110 transition-transform duration-500"})]}),t.jsxs("div",{className:"p-5",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${e.type==="honey"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:e.type==="honey"?"MHoney":"Sundakawa"})}),t.jsx("h3",{className:`font-bold text-lg text-stone-900 transition-colors ${e.type==="honey"?"group-hover:text-amber-700":"group-hover:text-green-700"}`,children:e.name}),t.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[t.jsxs("p",{className:`font-semibold ${e.type==="honey"?"text-amber-700":"text-green-700"}`,children:[e.minPrice<e.maxPrice?"Mulai dari ":"","Rp ",e.price.toLocaleString("id-ID")]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("button",{type:"button",onClick:n=>{var y,T,f,R,K,U;n.preventDefault(),n.stopPropagation();const l=m.find(S=>S.id===e.id);if(((T=(y=l==null?void 0:l.variants)==null?void 0:y.length)!=null?T:0)>1){W(S=>{var M;return V(B({},S),{[e.id]:(M=S[e.id])!=null?M:0})}),L({[e.id]:!0});return}const w=(f=H[e.id])!=null?f:0,b=(R=l==null?void 0:l.variants)==null?void 0:R[w];q({type:e.type,id:e.id,name:e.name,variant:b==null?void 0:b.name,price:(K=b==null?void 0:b.price)!=null?K:e.price,qty:1,image:(U=b==null?void 0:b.image)!=null?U:e.image}),E(S=>V(B({},S),{[e.id]:!0})),setTimeout(()=>E(S=>{const M=B({},S);return delete M[e.id],M}),650)},className:`rounded-md px-3 py-2 text-sm font-medium text-white transform transition-transform duration-150 ${e.type==="honey"?"bg-amber-700 hover:bg-amber-800":"bg-green-700 hover:bg-green-800"} ${F[e.id]?"scale-95":""}`,"aria-label":`Tambah ${e.name} ke keranjang`,children:F[e.id]?t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"w-4 h-4 mr-2 inline-block",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:t.jsx("path",{d:"M5 13l4 4L19 7",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"✓"]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"w-4 h-4 mr-2 inline-block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4z"})}),"Tambah"]})})})]})]})]},e.id)})}),t.jsxs("div",{className:"mt-6 flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-stone-600",children:["Menampilkan ",Math.min((o-1)*C+1,z),"–",Math.min(o*C,z)," dari ",z," produk"]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[t.jsx("label",{htmlFor:"pagesize",className:"text-sm font-medium text-stone-700",children:"Per halaman:"}),t.jsxs("select",{id:"pagesize",value:C,onChange:e=>me(Number(e.target.value)),className:"px-2 py-1 rounded-lg border border-stone-300 bg-white text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[t.jsx("option",{value:12,children:"12"}),t.jsx("option",{value:24,children:"24"}),t.jsx("option",{value:48,children:"48"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{disabled:o<=1,onClick:()=>x(e=>Math.max(1,e-1)),className:`px-3 py-1 rounded-md border ${o<=1?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Prev"}),(()=>{const e=[];if(c<=7)for(let s=1;s<=c;s++)e.push(s);else{e.push(1);let s=Math.max(2,o-1),n=Math.min(c-1,o+1);o<=3&&(s=2,n=4),o>=c-2&&(s=c-3,n=c-1),s>2&&e.push(-1);for(let l=s;l<=n;l++)e.push(l);n<c-1&&e.push(-1),e.push(c)}return e.map((s,n)=>s===-1?t.jsx("div",{className:"px-2",children:"…"},`sep-${n}`):t.jsx("button",{onClick:()=>x(s),className:`px-3 py-1 rounded-md border ${s===o?"bg-amber-600 text-white":"bg-white text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:s},s))})(),t.jsx("button",{disabled:o>=c,onClick:()=>x(e=>Math.min(c,e+1)),className:`px-3 py-1 rounded-md border ${o>=c?"text-stone-300 border-stone-100":"text-stone-700 border-stone-200 hover:bg-stone-50"}`,children:"Next"})]})]})]}),k&&(()=>{var s,n,l,g,w,b;const e=N.find(y=>y.id===k);if(!e)return null;const a=(s=e.variants)!=null?s:[];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>L({})}),t.jsx("div",{className:"relative z-10 max-w-lg w-full mx-4",children:t.jsxs("div",{className:"rounded-lg bg-white p-5 shadow-lg",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-stone-700",children:"Pilih varian"}),t.jsx("h3",{className:"font-semibold text-lg text-stone-900 mt-1",children:e.name})]}),t.jsx("button",{onClick:()=>L({}),"aria-label":"Close",className:"text-stone-600 hover:text-stone-900",children:"✕"})]}),t.jsxs("div",{className:"mt-4 grid gap-2 md:grid-cols-3 md:gap-4",children:[t.jsx("div",{className:"col-span-1 flex items-center justify-center",children:t.jsx(be,{src:(b=(w=(g=(l=e.variants)==null?void 0:l[(n=H[e.id])!=null?n:0])==null?void 0:g.image)!=null?w:e.image)!=null?b:"/logo.svg",alt:e.name,className:"w-28 h-28 object-contain object-center rounded",loading:"eager"})}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("div",{className:"grid gap-2",children:a.map((y,T)=>{var f;return t.jsxs("button",{type:"button",onClick:()=>W(R=>V(B({},R),{[e.id]:T})),className:`text-left px-3 py-2 rounded-md border ${((f=H[e.id])!=null?f:0)===T?"border-amber-600 bg-amber-50":"border-stone-200 bg-white"} text-sm`,children:[t.jsx("div",{className:"font-medium",children:y.name}),t.jsxs("div",{className:"text-xs text-stone-600 mt-1",children:["Rp ",y.price.toLocaleString("id-ID")]})]},y.name)})}),t.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[t.jsx("label",{className:"text-sm text-stone-700",children:"Jumlah"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>$(Math.max(1,I-1)),className:"w-8 h-8 rounded-md border border-stone-200 bg-white",children:"−"}),t.jsx("input",{type:"number",min:1,value:I,onChange:y=>$(Math.max(1,Number(y.target.value)||1)),className:"w-16 px-2 py-1 border rounded-md text-center"}),t.jsx("button",{type:"button",onClick:()=>$(I+1),className:"w-8 h-8 rounded-md border border-stone-200 bg-white",children:"+"})]})]})]})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>L({}),className:"rounded-md border border-stone-200 px-3 py-1 text-sm",children:"Batal"}),t.jsx("button",{type:"button",onClick:()=>{var R,K,U,S;const y=m.find(M=>M.id===e.id),T=(R=H[e.id])!=null?R:0,f=(K=y==null?void 0:y.variants)==null?void 0:K[T];q({type:e.type,id:e.id,name:e.name,variant:f==null?void 0:f.name,price:(U=f==null?void 0:f.price)!=null?U:e.price,qty:I,image:(S=f==null?void 0:f.image)!=null?S:e.image}),E(M=>V(B({},M),{[e.id]:!0})),setTimeout(()=>E(M=>{const he=B({},M);return delete he[e.id],he}),650),L({})},className:`rounded-md px-3 py-1 text-sm text-white ${e.type==="honey"?"bg-amber-700 hover:bg-amber-800":"bg-green-700 hover:bg-green-800"}`,children:"Tambah ke Keranjang"})]})]})})]})})()]}),je&&t.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>D(!1)}),t.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-white rounded-t-xl p-4 shadow-lg max-h-[75vh] overflow-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Filter"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{ne([]),re(null),oe(null)},className:"text-sm text-amber-600",children:"Reset"}),t.jsx("button",{type:"button",onClick:()=>D(!1),className:"text-sm text-stone-500",children:"Close"})]})]}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Kategori"}),t.jsx("div",{className:"flex flex-col gap-2",children:ue.map(e=>{var s;const a=ce.includes(e);return t.jsxs("button",{type:"button","aria-pressed":a,onClick:()=>ne(n=>n.includes(e)?n.filter(l=>l!==e):[...n,e]),className:`inline-flex items-center justify-between gap-3 px-3 py-2 rounded-full text-sm transition-all ${a?"bg-amber-600 text-white shadow-sm":"bg-white border border-stone-200 text-stone-700 hover:bg-stone-50"}`,children:[t.jsx("span",{className:"truncate",children:e}),t.jsx("span",{className:`ml-2 inline-flex items-center justify-center w-6 h-6 text-xs rounded-full ${a?"bg-white/20 text-white":"bg-stone-100 text-stone-500"}`,children:(s=xe.get(e))!=null?s:0})]},e)})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Harga"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-200",value:ee!=null?ee:"",onChange:e=>re(e.target.value===""?null:Number(e.target.value)),placeholder:`Min Rp ${se.min.toLocaleString("id-ID")}`}),t.jsx("span",{className:"text-sm",children:"—"}),t.jsx("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-stone-200",value:te!=null?te:"",onChange:e=>oe(e.target.value===""?null:Number(e.target.value)),placeholder:`Max Rp ${se.max.toLocaleString("id-ID")}`})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-stone-100",onClick:()=>{D(!1)},children:"Cancel"}),t.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-amber-600 text-white",onClick:()=>{Y(ce),Z(ee),X(te),D(!1)},children:"Apply"})]})]})]})]})]})]})}export{Qe as default};
